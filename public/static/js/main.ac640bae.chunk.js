(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{304:function(e,t,n){},305:function(e,t,n){},451:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(66),a=n.n(r),i=(n(304),n(305),n(473)),j=n(15),l=n(27),o=n(472),d=n(452),u=n(1),b=Object(c.createContext)(),h=function(e){var t=Object(c.useState)({}),n=Object(j.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(!1),i=Object(j.a)(a,2),l=i[0],o=i[1],d=Object(c.useState)(),h=Object(j.a)(d,2),O=h[0],x=h[1],m=Object(c.useState)(""),f=Object(j.a)(m,2),p=f[0],g=f[1],v=Object(c.useState)(""),S=Object(j.a)(v,2),y=S[0],C=S[1],U=Object(c.useState)(""),w=Object(j.a)(U,2),T=w[0],_=w[1],P=Object(c.useState)("comment"),D=Object(j.a)(P,2),F=D[0],L=D[1],k=Object(c.useState)(!1),E=Object(j.a)(k,2),A={user:s,setUser:r,loggedin:l,setLoggedin:o,results:O,setResults:x,sUsername:p,setSUsername:g,subreddit:y,setSubreddit:C,searchTerms:T,setSearchTerms:_,searchTarget:F,setSearchTarget:L,isUpdating:E[0],setIsUpdating:E[1]};return Object(u.jsx)(b.Provider,{value:A,children:e.children})},O=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(j.a)(r,2),i=a[0],h=a[1],O=Object(c.useState)(!0),x=Object(j.a)(O,2),m=x[0],f=x[1],p=Object(c.useContext)(b),g=p.setUser,v=p.setLoggedin,S=p.setIsUpdating,y=Object(l.f)();return Object(u.jsxs)("div",{children:[S(!1),Object(u.jsxs)(o.a,{onSubmit:function(e){e.preventDefault();var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})};fetch("/api/login",t).then((function(e){return e.json()})).then((function(e){e.id?(g(e),v(!0),f(!0),y.push("success")):f(!1)})).catch((function(e){return console.log("error =",e)}))},children:[Object(u.jsxs)(o.a.Field,{children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{placeholder:"Email",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(u.jsxs)(o.a.Field,{children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{placeholder:"password",type:"password",value:i,onChange:function(e){return h(e.target.value)}})]}),m?null:Object(u.jsx)("h3",{className:"Alert",children:"Wrong email or password."}),Object(u.jsx)(d.a,{primary:!0,type:"submit",children:"Login"})]})]})},x=function(){var e=Object(c.useState)(),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(),a=Object(j.a)(r,2),i=a[0],h=a[1],O=Object(c.useState)(""),x=Object(j.a)(O,2),m=x[0],f=x[1],p=Object(l.f)(),g=Object(c.useContext)(b),v=g.user,S=g.setUser,y=g.loggedin,C=g.setLoggedin,U=g.isUpdating,w=g.setIsUpdating;Object(c.useEffect)((function(){s(v.username),h(v.email)}),[v.username,v.email]);return Object(u.jsxs)("div",{children:[y?null:w(!1),Object(u.jsxs)(o.a,{onSubmit:function(e){if(e.preventDefault(),!n||!i||!m)return console.log("field(s) missing");fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:i,password:m})}).then((function(e){return e.json()})).then((function(e){S(e),C(!0),p.push("success")})).catch((function(e){return console.log("error =",e)}))},children:[Object(u.jsxs)(o.a.Field,{children:[Object(u.jsx)("label",{children:"Username"}),Object(u.jsx)("input",{placeholder:"Username",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(u.jsxs)(o.a.Field,{children:[Object(u.jsx)("label",{children:"Email"}),Object(u.jsx)("input",{placeholder:"Email",value:i,onChange:function(e){return h(e.target.value)}})]}),U?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h3",{children:"Please enter new username or email."})}):Object(u.jsxs)(o.a.Field,{children:[Object(u.jsx)("label",{children:"Password"}),Object(u.jsx)("input",{placeholder:"password",value:m,onChange:function(e){return f(e.target.value)}})]}),Object(u.jsx)(o.a.Field,{}),U?Object(u.jsx)(d.a,{primary:!0,onClick:function(e){e.preventDefault(),fetch("/api/update",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,email:i})}).then((function(e){return e.json()})).then((function(e){w(!1),p.push("success")})).catch((function(e){return console.log("Error = ",e)}))},children:"Update"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{style:{textAlign:"right"},children:"* All fields required"}),Object(u.jsx)(d.a,{primary:!0,type:"submit",children:"Signup"})]})]})]})},m=function(e){var t=e.handleLogout,n=e.renderUpdatePage,s=Object(c.useContext)(b),r=s.user,a=s.loggedin;return Object(u.jsx)("div",{children:a?Object(u.jsxs)("div",{children:[Object(u.jsxs)("h3",{children:["Username: ",r.username," "]}),Object(u.jsxs)("h3",{children:["email: ",r.email]}),Object(u.jsx)(d.a,{primary:!0,onClick:n,children:"Update"}),Object(u.jsx)(d.a,{primary:!0,onClick:t,children:"Logout"})]}):Object(u.jsx)(O,{})})},f=n(480),p=n(101),g=n(465),v=n(474),S=n(41),y=function(){return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"Link",children:[Object(u.jsx)(S.b,{to:"/login",children:"Login"})," | ",Object(u.jsx)(S.b,{to:"/signup",children:"Sign Up"})]})})},C=function(e){var t=e.handleLogout,n=e.findMe,s=Object(c.useContext)(b),r=s.loggedin,a=s.setIsUpdating,i=Object(c.useState)(!1),o=Object(j.a)(i,2),d=o[0],h=o[1],O=Object(l.f)(),x=function(){n(),h(!d)};return Object(u.jsxs)("div",{children:[Object(u.jsx)(f.a,{as:"h1",children:Object(u.jsx)(f.a.Content,{children:Object(u.jsxs)("div",{as:"h1.ui.header",children:[Object(u.jsx)(p.a,{name:"reddit"}),Object(u.jsx)("big",{children:"Emot/r"}),Object(u.jsx)(p.a,{id:"userIcon",name:"user outline",onClick:x})]})})}),Object(u.jsx)(g.a,{hidden:!0}),Object(u.jsx)(v.a,{visible:d,animation:"fade",duration:300,children:Object(u.jsx)("div",{children:r?Object(u.jsx)(m,{handleLogout:t,renderUpdatePage:function(){a(!0),x(),O.push("/signup")}}):Object(u.jsx)(y,{})})})]})},U=n(476),w=n(466),T=n(470),_=n(281),P=n(282),D=n(149),F=n(284),L=function(e){var t=e.emoDoc.emotion,n=[{name:"Sadness",Score:t.sadness},{name:"Joy",Score:t.joy},{name:"Fear",Score:t.fear},{name:"Disgust",Score:t.disgust},{name:"Anger",Score:t.anger}],c=Object(u.jsxs)(w.a,{width:325,height:250,data:n,margin:{top:5,right:5,left:0,bottom:5},children:[Object(u.jsx)(T.a,{strokeDasharray:"3 3"}),Object(u.jsx)(_.a,{dataKey:"name"}),Object(u.jsx)(P.a,{type:"number",domain:[0,1]}),Object(u.jsx)(D.a,{}),Object(u.jsx)(F.a,{dataKey:"Score",fill:"#8884d8"})]});return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"Emotional score overall "}),c]})},k=function(e){var t=e.targ,n=t.emotion,c=[{name:"Sadness",uv:n.sadness},{name:"Joy",uv:n.joy},{name:"Fear",uv:n.fear},{name:"Disgust",uv:n.disgust},{name:"Anger",uv:n.anger}],s=Object(u.jsxs)(w.a,{width:325,height:250,data:c,margin:{top:5,right:5,left:0,bottom:5},children:[Object(u.jsx)(T.a,{strokeDasharray:"1 3"}),Object(u.jsx)(_.a,{dataKey:"name",fontSize:"15"}),Object(u.jsx)(P.a,{type:"number",domain:[0,1]}),Object(u.jsx)(D.a,{}),Object(u.jsx)(F.a,{dataKey:"uv",fill:"#3884d8"})]});return Object(u.jsxs)("div",{className:"rechats-wrapper",children:[Object(u.jsxs)("p",{children:["Emotional score for ",Object(u.jsx)("strong",{children:t.text})]}),s]})},E=function(e){var t=e.item,n=t.search_results[0].emo_doc_json,c=t.search_results[0].emo_search_json,s=t.search_results[0].sent_doc_json,r=Object(l.g)();return Object(u.jsxs)("div",{children:[Object(u.jsx)(g.a,{horizontal:!0,children:Object(u.jsxs)(f.a,{as:"h3",children:[Object(u.jsx)(p.a,{name:"search"}),"Search Info"]})}),Object(u.jsx)(U.a,{unstackable:!0,children:Object(u.jsxs)(U.a.Body,{children:[Object(u.jsxs)(U.a.Row,{textAlign:"center",children:["/top_content"===r.pathname?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(U.a.Cell,{children:"Username:"}),Object(u.jsx)(U.a.Cell,{children:Object(u.jsx)("strong",{children:t.user.username})})," "]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(U.a.Cell,{children:"Date:"}),Object(u.jsx)(U.a.Cell,{children:Object(u.jsx)("strong",{children:t.created_at.slice(0,10)})})]}),Object(u.jsx)(U.a.Cell,{children:"Reddit User:"}),Object(u.jsx)(U.a.Cell,{children:Object(u.jsx)("strong",{children:t.author.name})})]}),Object(u.jsxs)(U.a.Row,{textAlign:"center",children:[Object(u.jsx)(U.a.Cell,{children:"Subreddit:"}),Object(u.jsx)(U.a.Cell,{children:Object(u.jsx)("strong",{children:t.subreddit.name})}),Object(u.jsx)(U.a.Cell,{children:"Topic:"}),Object(u.jsx)(U.a.Cell,{children:Object(u.jsx)("strong",{children:t.search_term.search_term})})]})]})}),Object(u.jsx)(g.a,{horizontal:!0,children:Object(u.jsxs)(f.a,{as:"h3",children:[Object(u.jsx)(p.a,{name:"bar chart"}),"Results"]})}),Object(u.jsxs)("h3",{children:["Overall Sentiment Score: ",s.score," (",s.label,")"]}),Object(u.jsxs)("div",{className:"emoDocResults",children:[Object(u.jsx)(L,{emoDoc:n}),c?c.map((function(e,t){return Object(u.jsx)(k,{targ:e},t)})):null]}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{})]})},A=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){r()}),[]);var r=function(){fetch("/api/my_searches").then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log("error =",e)}))};return Object(u.jsx)("div",{children:n.length>1?n.map((function(e,t){return Object(u.jsx)(E,{item:e},t)})):Object(u.jsx)("h3",{children:"No search results available"})})},N=function(e){var t=e.findMe,n=Object(c.useContext)(b).user;return Object(c.useEffect)((function(){t()}),[]),Object(u.jsxs)("div",{children:[Object(u.jsxs)("h2",{children:["Welcome ",n.username,"."]}),Object(u.jsx)("h3",{children:"Click a tab to continue."})]})},R=n(219),I=n(478),J=n(471),z=n(464),M=function(){var e=Object(l.f)(),t=Object(c.useState)(!1),n=Object(j.a)(t,2),s=n[0],r=n[1],a=Object(c.useState)(!1),i=Object(j.a)(a,2),h=i[0],O=i[1],x=Object(c.useContext)(b),m=x.user,f=x.setResults,p=x.sUsername,g=x.setSUsername,v=x.subreddit,S=x.setSubreddit,y=x.searchTerms,C=x.setSearchTerms,U="https://api.pushshift.io/reddit/search/"+x.searchTarget+"/?q="+y+"&subreddit="+v+"&author="+p+"&fields=author,created_utc,body,score,subreddit,url,title,selftext,permalink&size=50";return Object(u.jsxs)(R.a,{children:[h?Object(u.jsx)(I.a,{active:!0,inverted:!0,children:Object(u.jsx)(J.a,{children:"Analyzing..."})}):null,Object(u.jsxs)(o.a,{onSubmit:function(t){t.preventDefault(),O(!0);var n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({user:m,url:U,sUsername:p,subreddit:v,searchTerms:y})};fetch("/api/reddit",n).then((function(t){t.ok?t.json().then((function(t){f(t),r(!1),e.push("/results")})):t.json().then((function(e){console.log("error = ",e.errors),r(!0)}))}))},children:[Object(u.jsx)("h2",{children:"Discover emotional content on Reddit."}),Object(u.jsx)(o.a.Field,{children:Object(u.jsx)(z.a,{icon:"search",iconPosition:"left",placeholder:"u/ username",value:p,onChange:function(e){return g(e.target.value)}})}),Object(u.jsx)(o.a.Field,{children:Object(u.jsx)(z.a,{icon:"search",iconPosition:"left",placeholder:"r/ subreddit",value:v,onChange:function(e){return S(e.target.value)}})}),Object(u.jsxs)(o.a.Field,{children:[Object(u.jsx)(z.a,{icon:"search",iconPosition:"left",placeholder:"search terms",value:y,onChange:function(e){return C(e.target.value)}}),s?Object(u.jsx)("h4",{style:{color:"red"},children:"No Results Found. Please Search Again."}):null]}),Object(u.jsx)("br",{}),Object(u.jsx)(d.a,{primary:!0,type:"submit",children:"Search"})]})]})},B=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){r()}),[]);var r=function(){fetch("/api/top_content").then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return console.log("error =",e)}))};return Object(u.jsx)("div",{children:n.map((function(e,t){return Object(u.jsx)(E,{item:e},t)}))})},K=function(){var e=Object(c.useContext)(b),t=e.results,n=e.sUsername,s=e.subreddit,r=e.searchTerms;return Object(u.jsxs)("div",{children:[Object(u.jsx)(g.a,{horizontal:!0,children:Object(u.jsxs)(f.a,{as:"h3",children:[Object(u.jsx)(p.a,{name:"search"}),"Search Info"]})}),Object(u.jsx)(U.a,{unstackable:!0,children:Object(u.jsx)(U.a.Body,{children:Object(u.jsxs)(U.a.Row,{textAlign:"left",style:{fontWeight:"bold"},children:[Object(u.jsx)(U.a.Cell,{className:"cellLabel",children:"Reddit User:"}),Object(u.jsx)(U.a.Cell,{children:n||"-"}),Object(u.jsx)(U.a.Cell,{className:"cellLabel",children:"Subreddit:"}),Object(u.jsx)(U.a.Cell,{children:s||"-"}),Object(u.jsx)(U.a.Cell,{className:"cellLabel",children:"Topic:"}),Object(u.jsx)(U.a.Cell,{children:r||"-"})]})})}),Object(u.jsx)(g.a,{horizontal:!0,children:Object(u.jsxs)(f.a,{as:"h3",children:[Object(u.jsx)(p.a,{name:"bar chart"}),"Results"]})}),Object(u.jsxs)("h3",{children:["Overall Sentiment Score: ",t.sentimentDocument.score," (",t.sentimentDocument.label,")"]}),Object(u.jsxs)("div",{className:"emoDocResults",children:[Object(u.jsx)(L,{emoDoc:t.emotionDocument}),t.emotionTarget?t.emotionTarget.map((function(e,t){return Object(u.jsx)(k,{targ:e},t)})):null]})]})},W=n(477),q=function(e){var t=e.result,n="http://www.reddit.com"+t.permalink;return Object(u.jsxs)(W.a.Group,{itemsPerRow:1,children:[Object(u.jsxs)(W.a,{centered:!0,href:n,target:"_blank",children:[Object(u.jsx)(W.a.Content,{textAlign:"left",header:t.author+" says..."}),Object(u.jsx)(W.a.Content,{textAlign:"left",description:t.body}),Object(u.jsxs)(W.a.Content,{extra:!0,children:["Subreddit: ",t.subreddit]})]}),Object(u.jsx)("br",{})]})},G=function(){var e=Object(c.useContext)(b).results;return Object(u.jsx)("div",{className:"results",children:e?Object(u.jsxs)("div",{children:[Object(u.jsx)(K,{}),e.data.map((function(e,t){return Object(u.jsx)(q,{result:e},t)}))]}):Object(u.jsx)("h3",{children:"Results not available. Please try your search again. "})})},H=n.p+"static/media/SampleTopContent2.3e3adb3d.jpg",Q=n(285),V=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{style:{textAlign:"left"},children:"Just a sample..."}),Object(u.jsx)("hr",{}),Object(u.jsx)(Q.a,{src:H,fluid:!0}),Object(u.jsx)("hr",{}),Object(u.jsx)("h1",{children:"Login to view!"}),Object(u.jsx)(y,{})]})},X=function(){var e=Object(c.useContext)(b),t=e.setUser,n=e.loggedin,s=e.setLoggedin,r=Object(l.f)();Object(c.useEffect)((function(){a()}),[]);var a=function(){fetch("/api/me").then((function(e){return e.json()})).then((function(e){e.error||(t(e),s(!0),r.push("/"))})).catch((function(e){return console.log("error =",e)}))},j=function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){s(!1),t({}),window.location.reload()})).catch((function(e){return console.log("error =",e)}))},o=[{menuItem:{as:S.c,content:"Most Recent",to:"/top_content",exact:!0,key:"top_content"},render:function(){return Object(u.jsx)(l.a,{path:"/top_content",exact:!0,children:Object(u.jsx)(i.a.Pane,{children:Object(u.jsx)("div",{children:n?Object(u.jsx)(B,{}):Object(u.jsx)("div",{children:Object(u.jsx)(V,{})})})})})}},{menuItem:{as:S.c,content:"Search",to:"/",exact:!0,key:"home"},render:function(){return Object(u.jsx)(l.a,{path:"/",exact:!0,children:Object(u.jsx)(i.a.Pane,{children:Object(u.jsxs)("div",{children:[" ",Object(u.jsx)(M,{})]})})})}},{menuItem:n?{as:S.c,content:"My Searches",to:"/my_searches",exact:!0,key:"my_searches"}:{},render:function(){return Object(u.jsx)(l.a,{path:"/my_searches",exact:!0,children:Object(u.jsx)(i.a.Pane,{children:Object(u.jsx)("div",{children:Object(u.jsx)(A,{})})})})}}],d=o.findIndex((function(e){return!!Object(l.e)(window.location.pathname,{path:e.menuItem.to,exact:!0})}));return Object(u.jsx)(S.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("br",{}),Object(u.jsx)(C,{handleLogout:j,handleUpdate:function(){r.push("/signup")},findMe:a}),Object(u.jsx)("hr",{}),Object(u.jsx)(i.a,{panes:o,defaultActiveIndex:d}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{}),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/login",component:O}),Object(u.jsx)(l.a,{exact:!0,path:"/signup",component:x}),Object(u.jsx)(l.a,{exact:!0,path:"/results",component:G}),Object(u.jsx)(l.a,{exact:!0,path:"/success",children:Object(u.jsx)(N,{findMe:a})}),Object(u.jsx)(l.a,{exact:!0,path:"/profile",children:Object(u.jsx)(m,{handleLogout:j})})]})]})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,481)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};n(450);a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(S.a,{children:Object(u.jsx)(h,{children:Object(u.jsx)(X,{})})})}),document.getElementById("root")),Y()}},[[451,1,2]]]);
//# sourceMappingURL=main.ac640bae.chunk.js.map