{"ast":null,"code":"import\"./App.css\";import{Tab}from\"semantic-ui-react\";import Login from\"./Components/Login\";import Signup from\"./Components/Signup\";import Profile from\"./Components/Profile\";import{Context}from\"./context/Context\";import{useContext,useEffect}from\"react\";import HeaderComp from\"./Components/HeaderComp\";import MySearches from\"./Components/MySearches\";import UpdateSuccessful from\"./Components/UpdateSuccessful\";import Search from\"./Components/Search\";import TopContent from\"./Components/TopContent\";import ResultsContainer from\"./Components/ResultsContainer\";import SampleContent from\"./Components/SampleContent\";import{BrowserRouter,Route,Switch,useHistory,matchPath,NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useContext=useContext(Context),setUser=_useContext.setUser,loggedin=_useContext.loggedin,setLoggedin=_useContext.setLoggedin;var history=useHistory();// Checks user authentication\nuseEffect(function(){findMe();},[]);var findMe=function findMe(){fetch(\"/me\").then(function(res){return res.json();}).then(function(data){console.log(\"current user: \",data);if(!data.error){setUser(data);setLoggedin(true);history.push(\"/\");}}).catch(function(err){return console.log(\"error =\",err);});};// Logout\nvar handleLogout=function handleLogout(){fetch(\"/logout\",{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(data){console.log(\"Logged out.\");setLoggedin(false);setUser({});window.location.reload();}).catch(function(err){return console.log(err);});};// Routes to signup component\nvar handleUpdate=function handleUpdate(){history.push(\"/signup\");};// Three Semantic UI tabs for primary interface/app body\nvar panes=[{menuItem:{as:NavLink,content:\"Most Recent\",to:\"/top_content\",exact:true,key:\"top_content\"},render:function render(){return/*#__PURE__*/_jsx(Route,{path:\"/top_content\",exact:true,children:/*#__PURE__*/_jsx(Tab.Pane,{children:/*#__PURE__*/_jsx(\"div\",{children:loggedin?/*#__PURE__*/_jsx(TopContent,{}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SampleContent,{})})})})});}},{menuItem:{as:NavLink,content:\"Search\",to:\"/\",exact:true,key:\"home\"},render:function render(){return/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,children:/*#__PURE__*/_jsx(Tab.Pane,{children:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",/*#__PURE__*/_jsx(Search,{})]})})});}},{menuItem:loggedin?{as:NavLink,content:\"My Searches\",to:\"/my_searches\",exact:true,key:\"my_searches\"}:{},render:function render(){return/*#__PURE__*/_jsx(Route,{path:\"/my_searches\",exact:true,children:/*#__PURE__*/_jsx(Tab.Pane,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(MySearches,{})})})});}}];var defaultActiveIndex=panes.findIndex(function(pane){return!!matchPath(window.location.pathname,{path:pane.menuItem.to,exact:true});});// React routing; render header and tabs (body)\nreturn/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(HeaderComp,{handleLogout:handleLogout,handleUpdate:handleUpdate,findMe:findMe}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Tab,{panes:panes,defaultActiveIndex:defaultActiveIndex}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:Login}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",component:Signup}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/results\",component:ResultsContainer}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/success\",children:/*#__PURE__*/_jsx(UpdateSuccessful,{findMe:findMe})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/profile\",children:/*#__PURE__*/_jsx(Profile,{handleLogout:handleLogout})})]})]})});};export default App;","map":{"version":3,"sources":["/home/brinton/Development/Phase5/Reddit-Sentiment-Analyzer/client/src/App.js"],"names":["Tab","Login","Signup","Profile","Context","useContext","useEffect","HeaderComp","MySearches","UpdateSuccessful","Search","TopContent","ResultsContainer","SampleContent","BrowserRouter","Route","Switch","useHistory","matchPath","NavLink","App","setUser","loggedin","setLoggedin","history","findMe","fetch","then","res","json","data","console","log","error","push","catch","err","handleLogout","method","window","location","reload","handleUpdate","panes","menuItem","as","content","to","exact","key","render","defaultActiveIndex","findIndex","pane","pathname","path"],"mappings":"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","sourcesContent":["import \"./App.css\";\nimport { Tab } from \"semantic-ui-react\";\nimport Login from \"./Components/Login\";\nimport Signup from \"./Components/Signup\";\nimport Profile from \"./Components/Profile\";\nimport { Context } from \"./context/Context\";\nimport { useContext, useEffect } from \"react\";\nimport HeaderComp from \"./Components/HeaderComp\";\nimport MySearches from \"./Components/MySearches\";\nimport UpdateSuccessful from \"./Components/UpdateSuccessful\";\nimport Search from \"./Components/Search\";\nimport TopContent from \"./Components/TopContent\";\nimport ResultsContainer from \"./Components/ResultsContainer\";\nimport SampleContent from \"./Components/SampleContent\";\nimport { BrowserRouter, Route, Switch, useHistory, matchPath, NavLink } from \"react-router-dom\";\n\nconst App = () => {\n  const { setUser, loggedin, setLoggedin } = useContext(Context);\n  const history = useHistory();\n\n  // Checks user authentication\n\n  useEffect(() => {\n    findMe();\n  }, []);\n\n  const findMe = () => {\n    fetch(\"/me\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"current user: \", data);\n        if (!data.error) {\n          setUser(data);\n          setLoggedin(true);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(\"error =\", err));\n  };\n\n  // Logout\n\n  const handleLogout = () => {\n    fetch(\"/logout\", {\n      method: \"DELETE\",\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"Logged out.\");\n        setLoggedin(false);\n        setUser({});\n        window.location.reload();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // Routes to signup component\n\n  const handleUpdate = () => {\n    history.push(\"/signup\");\n  };\n\n  // Three Semantic UI tabs for primary interface/app body\n\n  const panes = [\n    {\n      menuItem: {\n        as: NavLink,\n        content: \"Most Recent\",\n        to: \"/top_content\",\n        exact: true,\n        key: \"top_content\",\n      },\n      render: () => (\n        <Route path='/top_content' exact>\n          <Tab.Pane>\n            <div>\n              {loggedin ? (\n                <TopContent />\n              ) : (\n                <div>\n                  <SampleContent />\n                </div>\n              )}\n            </div>\n          </Tab.Pane>\n        </Route>\n      ),\n    },\n    {\n      menuItem: {\n        as: NavLink,\n        content: \"Search\",\n        to: \"/\",\n        exact: true,\n        key: \"home\",\n      },\n      render: () => (\n        <Route path='/' exact>\n          <Tab.Pane>\n            <div>\n              {\" \"}\n              <Search />\n            </div>\n          </Tab.Pane>\n        </Route>\n      ),\n    },\n    {\n      menuItem: loggedin\n        ? {\n            as: NavLink,\n            content: \"My Searches\",\n            to: \"/my_searches\",\n            exact: true,\n            key: \"my_searches\",\n          }\n        : {},\n      render: () => (\n        <Route path='/my_searches' exact>\n          <Tab.Pane>\n            <div>\n              <MySearches />\n            </div>\n          </Tab.Pane>\n        </Route>\n      ),\n    },\n  ];\n\n  const defaultActiveIndex = panes.findIndex((pane) => {\n    return !!matchPath(window.location.pathname, {\n      path: pane.menuItem.to,\n      exact: true,\n    });\n  });\n\n  // React routing; render header and tabs (body)\n\n  return (\n    <BrowserRouter>\n      <div className='App'>\n        <br></br>\n        <HeaderComp handleLogout={handleLogout} handleUpdate={handleUpdate} findMe={findMe} />\n        <hr></hr>\n        <Tab panes={panes} defaultActiveIndex={defaultActiveIndex} />\n        <br></br>\n        <div></div>\n        <Switch>\n          <Route exact path='/login' component={Login} />\n          <Route exact path='/signup' component={Signup} />\n          <Route exact path='/results' component={ResultsContainer} />\n          <Route exact path='/success'>\n            <UpdateSuccessful findMe={findMe} />\n          </Route>\n          <Route exact path='/profile'>\n            <Profile handleLogout={handleLogout} />\n          </Route>\n        </Switch>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}